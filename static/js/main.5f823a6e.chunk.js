(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(t,e,n){t.exports=n(35)},35:function(t,e,n){"use strict";n.r(e);var r,o=n(0),c=n.n(o),u=n(17),a=n.n(u),i=n(1),l=n(2),d=n(4),s=n(3),f=n(5),p=n(7),O=0,h=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(d.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(o)))).handleChange=function(t){n.props.setTodoText(t.target.value)},n.handleClick=function(){""!==n.props.text&&(n.props.addTodo(n.props.text),n.props.setTodoText(""))},n}return Object(f.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("input",{value:this.props.text,onChange:this.handleChange}),c.a.createElement("button",{onClick:this.handleClick},"Add"))}}]),e}(o.Component),E=n(19),b=function(t){return t.get("text")},m=function(t){return t.get("filter")},T=Object(E.a)([function(t){return t.getIn(["todos","data"])},m],function(t,e){switch(e){case"all":return t;case"completed":return t.filter(function(t){return t.get("completed")});case"active":return t.filter(function(t){return!t.get("completed")});default:return new Error("Unknown filter: "+e)}}),g=Object(p.b)(function(t){return{text:b(t)}},function(t){return{addTodo:function(e){return t(function(t){return{type:"ADD_TODO",id:O++,text:t}}(e))},setTodoText:function(e){return t(function(t){return{type:"SET_TODO_TEXT",text:t}}(e))}}})(h),v=function(t){function e(){return Object(i.a)(this,e),Object(d.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.filter,n=t.setFilter;return c.a.createElement("div",null,c.a.createElement("span",null,"Show:"),c.a.createElement("button",{disabled:"all"===e,onClick:function(){return n("all")}},"All"),c.a.createElement("button",{disabled:"active"===e,onClick:function(){return n("active")}},"Active"),c.a.createElement("button",{disabled:"completed"===e,onClick:function(){return n("completed")}},"Completed"))}}]),e}(o.Component),j=Object(p.b)(function(t){return{filter:m(t)}},function(t){return{setFilter:function(e){return t(function(t){return{type:"SET_FILTER",filter:t}}(e))}}})(v),C=function(t){function e(){return Object(i.a)(this,e),Object(d.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.completed,n=t.text,r=t.onClick;return c.a.createElement("li",{onClick:r,style:{textDecoration:e?"line-through":"none"}},n)}}]),e}(o.Component),_=function(t){function e(){return Object(i.a)(this,e),Object(d.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchTodos()}},{key:"render",value:function(){var t=this.props,e=t.todos,n=t.toggleTodo;return c.a.createElement("ul",null,e.map(function(t){return c.a.createElement(C,Object.assign({key:t.id},t,{onClick:function(){n(t.id)}}))}))}}]),e}(o.Component),y=n(6),S=Object(p.b)(function(t){return{todos:T(t)}},function(t){return{toggleTodo:function(e){return t(function(t){return{type:"TOGGLE_TODO",id:t}}(e))},fetchTodos:function(){return t(function(t){return t({type:"FETCH_TODO_REQUEST"}),fetch("./mock/todos.json").then(function(e){e.json().then(function(e){t(function(t){return{type:"FETCH_TODO_SUCCESS",data:t}}(e))})},function(e){t(function(t){return{type:"FETCH_TODO_FAILURE",error:t}}(e)),console.log("An error occured: "+e)})})}}})((r=_,function(t){var e=Object.entries(t).reduce(function(t,e){return t[e[0]]=y.Iterable.isIterable(e[1])?e[1].toJS():e[1],t},{});return c.a.createElement(r,e)})),k=function(t){function e(){return Object(i.a)(this,e),Object(d.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(g,null),c.a.createElement(S,null),c.a.createElement(j,null))}}]),e}(o.Component),D=n(9),x=n(20),w=n(21),F={isFecthing:!1,error:null,data:[]},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.default.fromJS([]),e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TODO":var n=y.default.fromJS({id:e.id,text:e.text,completed:!1});return t.push(n);case"TOGGLE_TODO":return t.map(function(t){return t.get("id")===e.id?t.set("completed",!t.get("completed")):t});default:return t}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.default.fromJS(F),e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_TODO_REQUEST":return t.set("isFetching",!0);case"FETCH_TODO_SUCCESS":return t.merge({isFecthing:!1,data:y.default.fromJS(e.data)});case"FETCH_TODO_FAILURE":return t.merge({isFecthing:!1,error:e.error});default:var n=t.get("data");return t.set("data",A(n,e))}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_FILTER":return e.filter;default:return t}},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TODO_TEXT":return e.text;default:return t}},J=Object(w.combineReducers)({todos:I,text:U,filter:R}),L=function(t){var e=t.getState;t.dispatch;return function(t){return function(n){console.group(n.type),console.log("dispatching: ",n);var r=t(n);return console.log("next state: ",e()),console.groupEnd(),r}}},H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||D.c,G=Object(D.d)(J,H(Object(D.a)(x.a,L)));a.a.render(c.a.createElement(p.a,{store:G},c.a.createElement(k,null)),document.getElementById("root"))}},[[22,2,1]]]);
//# sourceMappingURL=main.5f823a6e.chunk.js.map