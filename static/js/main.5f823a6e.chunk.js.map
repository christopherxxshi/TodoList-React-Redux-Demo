{"version":3,"sources":["HOCs/toJS.js","actions/index.js","components/AddTodo.js","selectors/index.js","containers/AddTodoContainer.js","actions/actionTypes.js","components/Footer.js","containers/FooterContainer.js","components/Todo.js","components/TodoList.js","containers/TodoListContainer.js","components/App.js","reducers/todos.js","reducers/filter.js","reducers/text.js","reducers/index.js","middlewares/logger.js","index.js"],"names":["WrappedComponent","nextTodoId","AddTodo","handleChange","e","_this","props","setTodoText","target","value","handleClick","text","addTodo","react_default","a","createElement","this","onChange","onClick","Component","getText","state","get","getFilter","getVisibleTodos","createSelector","getIn","todos","filter","t","Error","connect","dispatch","type","id","Footer","_this$props","setVisiblityFilter","setFilter","disabled","Todo","completed","style","textDecoration","TodoList","fetchTodos","toggleTodo","map","todo","components_Todo","Object","assign","key","fetch","then","response","json","data","fetchTodosSuccess","error","fetchTodosFailure","console","log","wrappedComponentProps","propsJS","entries","reduce","newProps","wrappedComponentProp","Iterable","isIterable","toJS","App","AddTodoContainer","TodoListContainer","FooterContainer","initialState","isFecthing","arguments","length","undefined","Immutable","fromJS","action","newTodo","push","set","reducer","merge","combineReducers","logger","_ref","getState","next","group","result","groupEnd","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunkMiddleware","loggerMiddleware","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.5f823a6e.chunk.js","sourcesContent":["import React from \"react\";\nimport { Iterable } from \"immutable\";\n\nexport const toJS = WrappedComponent => wrappedComponentProps => {\n  const KEY = 0;\n  const VALUE = 1;\n  const propsJS = Object.entries(wrappedComponentProps).reduce(\n    (newProps, wrappedComponentProp) => {\n      newProps[wrappedComponentProp[KEY]] = Iterable.isIterable(\n        wrappedComponentProp[VALUE]\n      )\n        ? wrappedComponentProp[VALUE].toJS()\n        : wrappedComponentProp[VALUE];\n      return newProps;\n    },\n    {}\n  );\n  return <WrappedComponent {...propsJS} />;\n};\n","import {\n  ADD_TODO,\n  TOGGLE_TODO,\n  SET_TODO_TEXT,\n  SET_FILTER,\n  FETCH_TODO_REQUEST,\n  FETCH_TODO_SUCCESS,\n  FETCH_TODO_FAILURE\n} from \"./actionTypes\";\nlet nextTodoId = 0;\n\nconst fetchTodosRequest = () => ({\n  type: FETCH_TODO_REQUEST\n});\n\nconst fetchTodosSuccess = data => ({\n  type: FETCH_TODO_SUCCESS,\n  data\n});\n\nconst fetchTodosFailure = error => ({\n  type: FETCH_TODO_FAILURE,\n  error\n});\n\nexport const fetchTodos = () => {\n  return dispatch => {\n    dispatch(fetchTodosRequest());\n    return fetch(\"./mock/todos.json\").then(\n      response => {\n        response.json().then(data => {\n          dispatch(fetchTodosSuccess(data));\n        });\n      },\n      error => {\n        dispatch(fetchTodosFailure(error));\n        console.log(\"An error occured: \" + error);\n      }\n    );\n  };\n};\n\nexport const addTodo = text => ({\n  type: ADD_TODO,\n  id: nextTodoId++,\n  text\n});\n\nexport const toggleTodo = id => ({\n  type: TOGGLE_TODO,\n  id\n});\n\nexport const setFilter = filter => ({\n  type: SET_FILTER,\n  filter\n});\n\nexport const setTodoText = text => ({\n  type: SET_TODO_TEXT,\n  text\n});\n","import React, { Component } from \"react\";\n\nclass AddTodo extends Component {\n  render() {\n    return (\n      <div>\n        <input value={this.props.text} onChange={this.handleChange} />\n        <button onClick={this.handleClick}>Add</button>\n      </div>\n    );\n  }\n  handleChange = e => {\n    this.props.setTodoText(e.target.value);\n  };\n  handleClick = () => {\n    if (this.props.text !== \"\") {\n      this.props.addTodo(this.props.text);\n      this.props.setTodoText(\"\");\n    }\n  };\n}\n\nexport default AddTodo;\n","import { createSelector } from \"reselect\";\nexport const getText = state => state.get(\"text\");\nexport const getFilter = state => state.get(\"filter\");\n\nconst getTodos = state => state.getIn([\"todos\", \"data\"]);\n\nexport const getVisibleTodos = createSelector(\n  [getTodos, getFilter],\n  (todos, filter) => {\n    switch (filter) {\n      case \"all\":\n        return todos;\n      case \"completed\":\n        return todos.filter(t => t.get(\"completed\"));\n      case \"active\":\n        return todos.filter(t => !t.get(\"completed\"));\n      default:\n        return new Error(\"Unknown filter: \" + filter);\n    }\n  }\n);\n\n","import { connect } from \"react-redux\";\nimport { setTodoText, addTodo } from \"../actions\";\nimport AddTodo from \"../components/AddTodo\";\nimport {getText} from '../selectors'\n\nconst mapStateToProps = state => ({\n  text: getText(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  addTodo: text => dispatch(addTodo(text)),\n  setTodoText: text => dispatch(setTodoText(text))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AddTodo);\n","export const ADD_TODO = \"ADD_TODO\";\nexport const TOGGLE_TODO = \"TOGGLE_TODO\";\nexport const SET_FILTER = \"SET_FILTER\";\nexport const SET_TODO_TEXT = \"SET_TODO_TEXT\";\nexport const FETCH_TODO_REQUEST = \"FETCH_TODO_REQUEST\";\nexport const FETCH_TODO_FAILURE = \"FETCH_TODO_FAILURE\";\nexport const FETCH_TODO_SUCCESS = \"FETCH_TODO_SUCCESS\";","import React, { Component } from \"react\";\n\nclass Footer extends Component {\n  render() {\n    const { filter, setFilter: setVisiblityFilter } = this.props;\n    return (\n      <div>\n        <span>Show:</span>\n        <button\n          disabled={filter === \"all\"}\n          onClick={() => setVisiblityFilter(\"all\")}\n        >\n          All\n        </button>\n        <button\n          disabled={filter === \"active\"}\n          onClick={() => setVisiblityFilter(\"active\")}\n        >\n          Active\n        </button>\n        <button\n          disabled={filter === \"completed\"}\n          onClick={() => setVisiblityFilter(\"completed\")}\n        >\n          Completed\n        </button>\n      </div>\n    );\n  }\n}\nexport default Footer;\n","import { connect } from \"react-redux\";\nimport { setFilter } from \"../actions\";\nimport Footer from \"../components/Footer\";\nimport { getFilter } from \"../selectors\";\n\nconst mapStateToProps = state => ({\n  filter: getFilter(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setFilter: filter => dispatch(setFilter(filter))\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Footer);\n","import React, { Component } from \"react\";\n\nclass Todo extends Component {\n  render() {\n    const { completed, text, onClick } = this.props;\n    return (\n      <li\n        onClick={onClick}\n        style={{\n          textDecoration: completed ? \"line-through\" : \"none\"\n        }}\n      >\n        {text}\n      </li>\n    );\n  }\n}\n\nexport default Todo;\n","import React, { Component } from \"react\";\nimport Todo from \"./Todo\";\n\nclass TodoList extends Component {\n  componentDidMount(){\n    this.props.fetchTodos();\n  }\n  render() {\n    const { todos, toggleTodo } = this.props;\n    return (\n      <ul>\n        {todos.map(todo => {\n          return (\n            <Todo\n              key={todo.id}\n              {...todo}\n              onClick={() => {\n                toggleTodo(todo.id);\n              }}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nexport default TodoList;\n","import { connect } from \"react-redux\";\nimport { toggleTodo, fetchTodos } from \"../actions\";\nimport TodoList from \"../components/TodoList\";\nimport { getVisibleTodos } from \"../selectors\";\nimport {toJS} from \"../HOCs/toJS\";\n\nconst mapStateToProps = state => ({\n  todos: getVisibleTodos(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  toggleTodo: id => dispatch(toggleTodo(id)),\n  fetchTodos: () => dispatch(fetchTodos())\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(toJS(TodoList));\n","import React, { Component } from \"react\";\nimport AddTodoContainer from \"../containers/AddTodoContainer\";\nimport FooterContainer from \"../containers/FooterContainer\";\nimport TodoListContainer from \"../containers/TodoListContainer\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <AddTodoContainer />\n        <TodoListContainer />\n        <FooterContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import {\n  ADD_TODO,\n  TOGGLE_TODO,\n  FETCH_TODO_REQUEST,\n  FETCH_TODO_SUCCESS,\n  FETCH_TODO_FAILURE\n} from \"../actions/actionTypes\";\n\nimport Immutable from \"immutable\";\n\nconst initialState = {\n  isFecthing: false,\n  error: null,\n  data: []\n};\n\nconst reducer = (state = Immutable.fromJS(initialState), action) => {\n  switch (action.type) {\n    case FETCH_TODO_REQUEST:\n      return state.set(\"isFetching\", true);\n    case FETCH_TODO_SUCCESS:\n      return state.merge({\n        isFecthing: false,\n        data: Immutable.fromJS(action.data)\n      });\n    case FETCH_TODO_FAILURE:\n      return state.merge({\n        isFecthing: false,\n        error: action.error\n      });\n    default:\n      const data = state.get(\"data\");\n      return state.set(\"data\", todos(data, action));\n  }\n};\n\nconst todos = (state = Immutable.fromJS([]), action) => {\n  switch (action.type) {\n    case ADD_TODO:\n      const newTodo = Immutable.fromJS({\n        id: action.id,\n        text: action.text,\n        completed: false\n      });\n      return state.push(newTodo);\n\n    case TOGGLE_TODO:\n      return state.map(todo =>\n        todo.get(\"id\") === action.id\n          ? todo.set(\"completed\", !todo.get(\"completed\"))\n          : todo\n      );\n    default:\n      return state;\n  }\n};\nexport default reducer;\n","import { SET_FILTER } from \"../actions/actionTypes\";\n\nconst filter = (state = \"all\", action) => {\n  switch (action.type) {\n    case SET_FILTER:\n      return action.filter;\n    default:\n      return state;\n  }\n};\n\nexport default filter;\n","import { SET_TODO_TEXT } from \"../actions/actionTypes\";\n\nconst text = (state = \"\", action) => {\n  switch (action.type) {\n    case SET_TODO_TEXT:\n      return action.text;\n    default:\n      return state;\n  }\n};\n\nexport default text;\n","import { combineReducers } from \"redux-immutable\";\n\nimport todos from \"./todos\";\nimport filter from \"./filter\";\nimport text from \"./text\";\n\nexport default combineReducers({\n  todos,\n  text,\n  filter\n});\n","const logger = ({ getState, dispatch }) => next => action => {\n  console.group(action.type);\n  console.log(\"dispatching: \", action);\n  const result = next(action);\n  console.log(\"next state: \", getState());\n  console.groupEnd();\n  return result;\n};\nexport default logger;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport rootReducer from \"./reducers\";\nimport loggerMiddleware from \"./middlewares/logger\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunkMiddleware, loggerMiddleware))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}